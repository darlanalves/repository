!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=["find","remove","save","findAll","removeAll","saveAll"],a=function(){function e(){t(this,e)}return r(e,[{key:"__callAdapter",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;t>o;o++)r[o-1]=arguments[o];var a=r.pop()||{},i=n(this.options,a);return r.push(i),r.unshift(this.name),this.adapter[e].apply(this.adapter,r)}}],[{key:"create",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!t.name)throw new Error("Invalid repository name");if(!t.adapter)throw new Error("Invalid repository adapter");var n=function(){this.name=t.name,this.adapter=t.adapter,this.options=t.options||{}},r=Object.create(e.prototype);return r.constructor=n,n.prototype=r,t.methods&&Object.keys(t.methods).forEach(function(e){-1===o.indexOf(e)&&(r[e]=t.methods[e])}),n}}]),e}();o.forEach(function(e){a.prototype[e]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.__callAdapter(e,t,n)}}),"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:e.Repository=a}(this);